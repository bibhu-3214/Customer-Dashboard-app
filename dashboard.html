<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard</title>
    <link rel="stylesheet" href="design.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
  </head>
  <body>
    <div id="root"></div>
    <script
      crossorigin
      src="https://unpkg.com/react@16/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/babel-standalone@6.26.0/babel.js"
    ></script>
    <script src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/react-modal/3.14.3/react-modal.min.js"
      integrity="sha512-MY2jfK3DBnVzdS2V8MXo5lRtr0mNRroUI9hoLVv2/yL3vrJTam3VzASuKQ96fLEpyYIT4a8o7YgtUs5lPjiLVQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <script type="text/babel">
      const rootHandle = document.getElementById("root");
      const data = [
        {
          Date: "2020-04-29",
          Phone: 9455622241,
          Name: "Shankara Narasimhan",
          Amount: 260,
        },
        {
          Date: "2020-04-29",
          Phone: 9597628723,
          Name: "Sulya Gupta",
          Amount: 90,
        },
        {
          Date: "2020-04-29",
          Phone: 9640338121,
          Name: "Brahma Swamy",
          Amount: 80,
        },
        {
          Date: "2020-04-29",
          Phone: 9383568793,
          Name: "Vaibhav Mulye",
          Amount: 240,
        },
        {
          Date: "2020-04-29",
          Phone: 9455622241,
          Name: "Shankara Narasimhan",
          Amount: 230,
        },
        {
          Date: "2020-04-29",
          Phone: 9521737322,
          Name: "Riddhi Nair",
          Amount: 70,
        },
        {
          Date: "2020-04-29",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 80,
        },
        {
          Date: "2020-04-29",
          Phone: 9603660688,
          Name: "Dhenuka Dhawan",
          Amount: 250,
        },
        {
          Date: "2020-04-29",
          Phone: 9451926724,
          Name: "Sahan Sibal",
          Amount: 260,
        },
        {
          Date: "2020-04-29",
          Phone: 9699939066,
          Name: "Haripriya Nayak",
          Amount: 270,
        },
        {
          Date: "2020-04-29",
          Phone: 9590146908,
          Name: "Sachi Loliyekar",
          Amount: 110,
        },
        {
          Date: "2020-04-29",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 100,
        },
        {
          Date: "2020-04-29",
          Phone: 9640338121,
          Name: "Brahma Swamy",
          Amount: 240,
        },
        {
          Date: "2020-04-29",
          Phone: 9236367267,
          Name: "Takshaka Sandal",
          Amount: 70,
        },
        {
          Date: "2020-04-30",
          Phone: 9969345730,
          Name: "Kavi Edwin",
          Amount: 210,
        },
        {
          Date: "2020-04-30",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 280,
        },
        {
          Date: "2020-04-30",
          Phone: 9971276037,
          Name: "Pramlocha Comar",
          Amount: 210,
        },
        {
          Date: "2020-04-30",
          Phone: 9241664018,
          Name: "Utathya Ghate",
          Amount: 260,
        },
        {
          Date: "2020-04-30",
          Phone: 9248936762,
          Name: "Arpana Raja",
          Amount: 260,
        },
        {
          Date: "2020-04-30",
          Phone: 9640338121,
          Name: "Brahma Swamy",
          Amount: 200,
        },
        {
          Date: "2020-04-30",
          Phone: 9895408016,
          Name: "Mukul Krishna",
          Amount: 180,
        },
        {
          Date: "2020-04-30",
          Phone: 9241664018,
          Name: "Utathya Ghate",
          Amount: 260,
        },
        {
          Date: "2020-04-30",
          Phone: 9920950009,
          Name: "Rohan Sarma",
          Amount: 110,
        },
        {
          Date: "2020-04-30",
          Phone: 9820224845,
          Name: "Tanika Philip",
          Amount: 90,
        },
        {
          Date: "2020-04-30",
          Phone: 9383568793,
          Name: "Vaibhav Mulye",
          Amount: 200,
        },
        {
          Date: "2020-04-30",
          Phone: 9732082404,
          Name: "Kali Chaudry",
          Amount: 290,
        },
        {
          Date: "2020-04-30",
          Phone: 9534474777,
          Name: "Daeva Tata",
          Amount: 70,
        },
        {
          Date: "2020-05-01",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 160,
        },
        {
          Date: "2020-05-01",
          Phone: 9572464275,
          Name: "Salmalin Mehta",
          Amount: 100,
        },
        {
          Date: "2020-05-01",
          Phone: 9688156631,
          Name: "Sahan Oak",
          Amount: 200,
        },
        {
          Date: "2020-05-01",
          Phone: 9236367267,
          Name: "Takshaka Sandal",
          Amount: 250,
        },
        {
          Date: "2020-05-01",
          Phone: 9979209995,
          Name: "Atman Mathur",
          Amount: 140,
        },
        {
          Date: "2020-05-01",
          Phone: 9521737322,
          Name: "Riddhi Nair",
          Amount: 140,
        },
        {
          Date: "2020-05-01",
          Phone: 9265205814,
          Name: "Daeva Peri",
          Amount: 180,
        },
        {
          Date: "2020-05-01",
          Phone: 9267357082,
          Name: "Muni Wasgare",
          Amount: 210,
        },
        {
          Date: "2020-05-01",
          Phone: 9267357082,
          Name: "Muni Wasgare",
          Amount: 290,
        },
        {
          Date: "2020-05-01",
          Phone: 9590146908,
          Name: "Sachi Loliyekar",
          Amount: 190,
        },
        {
          Date: "2020-05-01",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 290,
        },
        {
          Date: "2020-05-01",
          Phone: 9241664018,
          Name: "Utathya Ghate",
          Amount: 180,
        },
        {
          Date: "2020-05-02",
          Phone: 9971276037,
          Name: "Pramlocha Comar",
          Amount: 80,
        },
        {
          Date: "2020-05-02",
          Phone: 9920950009,
          Name: "Rohan Sarma",
          Amount: 140,
        },
        {
          Date: "2020-05-02",
          Phone: 9705384480,
          Name: "Latif Chia",
          Amount: 70,
        },
        {
          Date: "2020-05-02",
          Phone: 9252350612,
          Name: "Anushka Mody",
          Amount: 150,
        },
        {
          Date: "2020-05-02",
          Phone: 9688156631,
          Name: "Sahan Oak",
          Amount: 290,
        },
        {
          Date: "2020-05-02",
          Phone: 9359394987,
          Name: "Tarun Mapkar",
          Amount: 260,
        },
        {
          Date: "2020-05-02",
          Phone: 9747425720,
          Name: "Markandeya Barad",
          Amount: 100,
        },
        {
          Date: "2020-05-02",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 180,
        },
        {
          Date: "2020-05-02",
          Phone: 9699939066,
          Name: "Haripriya Nayak",
          Amount: 110,
        },
        {
          Date: "2020-05-02",
          Phone: 9590146908,
          Name: "Sachi Loliyekar",
          Amount: 220,
        },
        {
          Date: "2020-05-02",
          Phone: 9820224845,
          Name: "Tanika Philip",
          Amount: 220,
        },
        {
          Date: "2020-05-02",
          Phone: 9747425720,
          Name: "Markandeya Barad",
          Amount: 90,
        },
        {
          Date: "2020-05-03",
          Phone: 9910042819,
          Name: "Shanti Bajwa",
          Amount: 100,
        },
        {
          Date: "2020-05-03",
          Phone: 9518195948,
          Name: "Indra Chaudry",
          Amount: 110,
        },
        {
          Date: "2020-05-03",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 80,
        },
        {
          Date: "2020-05-03",
          Phone: 9236367267,
          Name: "Takshaka Sandal",
          Amount: 100,
        },
        {
          Date: "2020-05-03",
          Phone: 9640338121,
          Name: "Brahma Swamy",
          Amount: 100,
        },
        {
          Date: "2020-05-03",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 120,
        },
        {
          Date: "2020-05-03",
          Phone: 9453085874,
          Name: "Manu Oza",
          Amount: 120,
        },
        {
          Date: "2020-05-03",
          Phone: 9976945538,
          Name: "Amitabha Kothari",
          Amount: 270,
        },
        {
          Date: "2020-05-03",
          Phone: 9910042819,
          Name: "Shanti Bajwa",
          Amount: 280,
        },
        {
          Date: "2020-05-03",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 200,
        },
        {
          Date: "2020-05-03",
          Phone: 9405883814,
          Name: "Gauri Som",
          Amount: 220,
        },
        {
          Date: "2020-05-03",
          Phone: 9252350612,
          Name: "Anushka Mody",
          Amount: 170,
        },
        {
          Date: "2020-05-04",
          Phone: 9453085874,
          Name: "Manu Oza",
          Amount: 120,
        },
        {
          Date: "2020-05-04",
          Phone: 9640338121,
          Name: "Brahma Swamy",
          Amount: 150,
        },
        {
          Date: "2020-05-04",
          Phone: 9927277067,
          Name: "Ranjan Khare",
          Amount: 80,
        },
        {
          Date: "2020-05-04",
          Phone: 9910042819,
          Name: "Shanti Bajwa",
          Amount: 250,
        },
        {
          Date: "2020-05-04",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 200,
        },
        {
          Date: "2020-05-04",
          Phone: 9293117791,
          Name: "Kumara Nayak",
          Amount: 250,
        },
        {
          Date: "2020-05-04",
          Phone: 9976945538,
          Name: "Amitabha Kothari",
          Amount: 110,
        },
        {
          Date: "2020-05-04",
          Phone: 9518195948,
          Name: "Indra Chaudry",
          Amount: 200,
        },
        {
          Date: "2020-05-04",
          Phone: 9518195948,
          Name: "Indra Chaudry",
          Amount: 130,
        },
        {
          Date: "2020-05-04",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 140,
        },
        {
          Date: "2020-05-04",
          Phone: 9521737322,
          Name: "Riddhi Nair",
          Amount: 120,
        },
        {
          Date: "2020-05-04",
          Phone: 9920950009,
          Name: "Rohan Sarma",
          Amount: 120,
        },
        {
          Date: "2020-05-04",
          Phone: 9597628723,
          Name: "Sulya Gupta",
          Amount: 140,
        },
        {
          Date: "2020-05-04",
          Phone: 9534474777,
          Name: "Daeva Tata",
          Amount: 70,
        },
        {
          Date: "2020-05-04",
          Phone: 9009381182,
          Name: "Mira Reddy",
          Amount: 240,
        },
        {
          Date: "2020-05-04",
          Phone: 9009381182,
          Name: "Mira Reddy",
          Amount: 160,
        },
        {
          Date: "2020-05-04",
          Phone: 9236367267,
          Name: "Takshaka Sandal",
          Amount: 150,
        },
        {
          Date: "2020-05-04",
          Phone: 9265205814,
          Name: "Daeva Peri",
          Amount: 180,
        },
        {
          Date: "2020-05-05",
          Phone: 9451926724,
          Name: "Sahan Sibal",
          Amount: 170,
        },
        {
          Date: "2020-05-05",
          Phone: 9504662177,
          Name: "Tara Menon",
          Amount: 230,
        },
        {
          Date: "2020-05-05",
          Phone: 9455622241,
          Name: "Shankara Narasimhan",
          Amount: 200,
        },
        {
          Date: "2020-05-05",
          Phone: 9927277067,
          Name: "Ranjan Khare",
          Amount: 110,
        },
        {
          Date: "2020-05-05",
          Phone: 9521737322,
          Name: "Riddhi Nair",
          Amount: 90,
        },
        {
          Date: "2020-05-05",
          Phone: 9252350612,
          Name: "Anushka Mody",
          Amount: 120,
        },
        {
          Date: "2020-05-05",
          Phone: 9699939066,
          Name: "Haripriya Nayak",
          Amount: 70,
        },
        {
          Date: "2020-05-05",
          Phone: 9150159527,
          Name: "Leya Sankaran",
          Amount: 270,
        },
        {
          Date: "2020-05-05",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 240,
        },
        {
          Date: "2020-05-05",
          Phone: 9733555024,
          Name: "Nirav Khalsa",
          Amount: 110,
        },
        {
          Date: "2020-05-05",
          Phone: 9236367267,
          Name: "Takshaka Sandal",
          Amount: 200,
        },
        {
          Date: "2020-05-05",
          Phone: 9241664018,
          Name: "Utathya Ghate",
          Amount: 260,
        },
        {
          Date: "2020-05-06",
          Phone: 9455622241,
          Name: "Shankara Narasimhan",
          Amount: 210,
        },
        {
          Date: "2020-05-06",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 250,
        },
        {
          Date: "2020-05-06",
          Phone: 9705384480,
          Name: "Latif Chia",
          Amount: 160,
        },
        {
          Date: "2020-05-06",
          Phone: 9359394987,
          Name: "Tarun Mapkar",
          Amount: 100,
        },
        {
          Date: "2020-05-06",
          Phone: 9688156631,
          Name: "Sahan Oak",
          Amount: 210,
        },
        {
          Date: "2020-05-06",
          Phone: 9688156631,
          Name: "Sahan Oak",
          Amount: 280,
        },
        {
          Date: "2020-05-06",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 110,
        },
        {
          Date: "2020-05-06",
          Phone: 9699939066,
          Name: "Haripriya Nayak",
          Amount: 130,
        },
        {
          Date: "2020-05-06",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 110,
        },
        {
          Date: "2020-05-06",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 90,
        },
        {
          Date: "2020-05-06",
          Phone: 9597628723,
          Name: "Sulya Gupta",
          Amount: 190,
        },
        {
          Date: "2020-05-06",
          Phone: 9521737322,
          Name: "Riddhi Nair",
          Amount: 140,
        },
        {
          Date: "2020-05-06",
          Phone: 9451926724,
          Name: "Sahan Sibal",
          Amount: 230,
        },
        {
          Date: "2020-05-06",
          Phone: 9403313898,
          Name: "Adri Dave",
          Amount: 210,
        },
        {
          Date: "2020-05-06",
          Phone: 9895408016,
          Name: "Mukul Krishna",
          Amount: 240,
        },
        {
          Date: "2020-05-06",
          Phone: 9504662177,
          Name: "Tara Menon",
          Amount: 140,
        },
        {
          Date: "2020-05-07",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 140,
        },
        {
          Date: "2020-05-07",
          Phone: 9699939066,
          Name: "Haripriya Nayak",
          Amount: 280,
        },
        {
          Date: "2020-05-07",
          Phone: 9732082404,
          Name: "Kali Chaudry",
          Amount: 130,
        },
        {
          Date: "2020-05-07",
          Phone: 9150159527,
          Name: "Leya Sankaran",
          Amount: 250,
        },
        {
          Date: "2020-05-07",
          Phone: 9820224845,
          Name: "Tanika Philip",
          Amount: 290,
        },
        {
          Date: "2020-05-07",
          Phone: 9248936762,
          Name: "Arpana Raja",
          Amount: 260,
        },
        {
          Date: "2020-05-07",
          Phone: 9293117791,
          Name: "Kumara Nayak",
          Amount: 200,
        },
        {
          Date: "2020-05-07",
          Phone: 9640338121,
          Name: "Brahma Swamy",
          Amount: 200,
        },
        {
          Date: "2020-05-07",
          Phone: 9732082404,
          Name: "Kali Chaudry",
          Amount: 280,
        },
        {
          Date: "2020-05-07",
          Phone: 9265205814,
          Name: "Daeva Peri",
          Amount: 70,
        },
        {
          Date: "2020-05-07",
          Phone: 9534474777,
          Name: "Daeva Tata",
          Amount: 160,
        },
        {
          Date: "2020-05-07",
          Phone: 9252350612,
          Name: "Anushka Mody",
          Amount: 80,
        },
        {
          Date: "2020-05-07",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 220,
        },
        {
          Date: "2020-05-07",
          Phone: 9153022424,
          Name: "Hastin Mangal",
          Amount: 180,
        },
        {
          Date: "2020-05-07",
          Phone: 9920950009,
          Name: "Rohan Sarma",
          Amount: 160,
        },
        {
          Date: "2020-05-07",
          Phone: 9534474777,
          Name: "Daeva Tata",
          Amount: 230,
        },
        {
          Date: "2020-05-07",
          Phone: 9359394987,
          Name: "Tarun Mapkar",
          Amount: 260,
        },
        {
          Date: "2020-05-07",
          Phone: 9969345730,
          Name: "Kavi Edwin",
          Amount: 100,
        },
        {
          Date: "2020-05-08",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 130,
        },
        {
          Date: "2020-05-08",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 120,
        },
        {
          Date: "2020-05-08",
          Phone: 9504662177,
          Name: "Tara Menon",
          Amount: 220,
        },
        {
          Date: "2020-05-08",
          Phone: 9455622241,
          Name: "Shankara Narasimhan",
          Amount: 150,
        },
        {
          Date: "2020-05-08",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 90,
        },
        {
          Date: "2020-05-08",
          Phone: 9236367267,
          Name: "Takshaka Sandal",
          Amount: 110,
        },
        {
          Date: "2020-05-08",
          Phone: 9330107696,
          Name: "Nipa Naidu",
          Amount: 70,
        },
        {
          Date: "2020-05-08",
          Phone: 9927277067,
          Name: "Ranjan Khare",
          Amount: 180,
        },
        {
          Date: "2020-05-08",
          Phone: 9140356318,
          Name: "Ballari Upadhyay",
          Amount: 270,
        },
        {
          Date: "2020-05-08",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 70,
        },
        {
          Date: "2020-05-08",
          Phone: 9518195948,
          Name: "Indra Chaudry",
          Amount: 180,
        },
        {
          Date: "2020-05-08",
          Phone: 9976945538,
          Name: "Amitabha Kothari",
          Amount: 270,
        },
        {
          Date: "2020-05-08",
          Phone: 9534474777,
          Name: "Daeva Tata",
          Amount: 210,
        },
        {
          Date: "2020-05-08",
          Phone: 9504662177,
          Name: "Tara Menon",
          Amount: 210,
        },
        {
          Date: "2020-05-08",
          Phone: 9293117791,
          Name: "Kumara Nayak",
          Amount: 200,
        },
        {
          Date: "2020-05-08",
          Phone: 9293117791,
          Name: "Kumara Nayak",
          Amount: 140,
        },
        {
          Date: "2020-05-08",
          Phone: 9248936762,
          Name: "Arpana Raja",
          Amount: 110,
        },
        {
          Date: "2020-05-08",
          Phone: 9960294002,
          Name: "Mitra Gounder",
          Amount: 240,
        },
        {
          Date: "2020-05-08",
          Phone: 9150159527,
          Name: "Leya Sankaran",
          Amount: 140,
        },
        {
          Date: "2020-05-08",
          Phone: 9236367267,
          Name: "Takshaka Sandal",
          Amount: 250,
        },
        {
          Date: "2020-05-09",
          Phone: 9732082404,
          Name: "Kali Chaudry",
          Amount: 100,
        },
        {
          Date: "2020-05-09",
          Phone: 9521737322,
          Name: "Riddhi Nair",
          Amount: 140,
        },
        {
          Date: "2020-05-09",
          Phone: 9293117791,
          Name: "Kumara Nayak",
          Amount: 190,
        },
        {
          Date: "2020-05-09",
          Phone: 9590146908,
          Name: "Sachi Loliyekar",
          Amount: 150,
        },
        {
          Date: "2020-05-09",
          Phone: 9688156631,
          Name: "Sahan Oak",
          Amount: 220,
        },
        {
          Date: "2020-05-09",
          Phone: 9895408016,
          Name: "Mukul Krishna",
          Amount: 230,
        },
        {
          Date: "2020-05-09",
          Phone: 9261697610,
          Name: "Niloufer Handa",
          Amount: 130,
        },
        {
          Date: "2020-05-09",
          Phone: 9927277067,
          Name: "Ranjan Khare",
          Amount: 170,
        },
        {
          Date: "2020-05-09",
          Phone: 9640338121,
          Name: "Brahma Swamy",
          Amount: 230,
        },
        {
          Date: "2020-05-09",
          Phone: 9485132704,
          Name: "Sohalia Das",
          Amount: 250,
        },
        {
          Date: "2020-05-09",
          Phone: 9330107696,
          Name: "Nipa Naidu",
          Amount: 240,
        },
        {
          Date: "2020-05-09",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 180,
        },
        {
          Date: "2020-05-09",
          Phone: 9389644210,
          Name: "Brahma Swamy",
          Amount: 210,
        },
      ];

      const { useState, useEffect } = React;

      const StatsContainer = (props) => {
        const { ordersCount, totalAmount, customersCount } = props;

        return (
          <div id="all">
            <div className="statsdiv">
              <p>{ordersCount}</p>
              <p>Order</p>
            </div>
            <div className="statsdiv">
              <p>{totalAmount}</p>
              <p>Amount</p>
            </div>
            <div className="statsdiv">
              <p>{customersCount}</p>
              <p>Customer</p>
            </div>
          </div>
        );
      };

      function ModalComponent(props) {
        const { customerDetails, showModal, handleCloseModal } = props;
        let customerTotal = 0;
        customerDetails.forEach((ele) => (customerTotal += ele.Amount));

        return (
          <div>
            {customerDetails.length > 0 && (
              <ReactModal
                isOpen={showModal}
                onRequestClose={handleCloseModal}
                id="modal"
              >
                <h3>
                  {customerDetails[0].Name} - {customerDetails[0].Phone}
                </h3>
                <h4>Order Count - {customerDetails.length}</h4>
                <h4>Total Amount - {customerTotal}</h4>
                <table id="modaltable">
                  <thead>
                    <tr>
                      <th>No</th>
                      <th>Date</th>
                      <th>Amount</th>
                    </tr>
                  </thead>
                  <tbody>
                    {customerDetails.map((ele, index) => {
                      return (
                        <tr key={index}>
                          <td>{index + 1}</td>
                          <td>{ele.Date}</td>
                          <td>{ele.Amount}</td>
                        </tr>
                      );
                    })}
                  </tbody>
                </table>
                <br />
                <button onClick={handleCloseModal}>Close</button>
              </ReactModal>
            )}
          </div>
        );
      }

      const ListingCustomers = (props) => {
        const [search, setSearch] = useState("");
        const {
          customers,
          customerDetails,
          showCustomerDetail,
          getSearchResult,
          modalIsOpen,
          handleCloseModal,
        } = props;

        const handleSearch = (e) => {
          const searchInput = e.target.value;
          setSearch(searchInput);
          getSearchResult(searchInput);
        };

        const showDetails = (phone) => {
          showCustomerDetail(phone);
        };

        return (
          <div id="list">
            <h2 id="listheading">Listing Customers</h2>
            <input
              type="text"
              placeholder="search"
              id="search"
              value={search}
              onChange={handleSearch}
            />
            <table id="listtable">
              <thead>
                <tr>
                  <th>Id</th>
                  <th>Name</th>
                  <th>Mobile</th>
                  <th>Details</th>
                </tr>
              </thead>
              <tbody>
                {customers.map((ele, index) => {
                  return (
                    <tr key={index}>
                      <td>{index + 1}</td>
                      <td>{ele.Name}</td>
                      <td>{ele.Phone}</td>
                      <td>
                        <a href="#" onClick={() => showDetails(ele.Phone)}>
                          Show
                        </a>
                      </td>
                    </tr>
                  );
                })}
              </tbody>
            </table>
            <ModalComponent
              customerDetails={customerDetails}
              showModal={modalIsOpen}
              handleCloseModal={handleCloseModal}
            />
          </div>
        );
      };

      const OrederDistribution = (props) => {
        const { ordersPerCusomters } = props;
        return (
          <div>
            <h2 id="orderId">Order Distribution</h2>
            <div id="order">
              <table id="ordertable">
                <thead>
                  <tr>
                    <th>No of orders</th>
                    <th>Count of customers</th>
                  </tr>
                </thead>
                <tbody>
                  {Object.keys(ordersPerCusomters).map((ele) => {
                    return (
                      <tr key={ele}>
                        <td>{ele < 5 ? ele : `${ele}+`}</td>
                        <td>{ordersPerCusomters[ele]}</td>
                      </tr>
                    );
                  })}
                </tbody>
              </table>
              <PieChart ordersPerCusomters={props.ordersPerCusomters} />
            </div>
          </div>
        );
      };

      const PieChart = (props) => {
        const { ordersPerCusomters } = props;

        const chartDetails = Object.entries(ordersPerCusomters);
        chartDetails.unshift(["order", "customer"]);

        google.charts.load("current", { packages: ["corechart"] });
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {
          var data = google.visualization.arrayToDataTable(chartDetails);
          var options = {
            title: "Customers Order Distribution",
            width: 500,
            height: 300,
          };
          var chart = new google.visualization.PieChart(
            document.getElementById("piechart")
          );
          chart.draw(data, options);
        }
        return <div id="piechart"></div>;
      };

      function DownloadPDF(props) {
        const generatePDF = () => {
          const content = document.getElementById("parent");
          var opt = {
            margin: 1,
            filename: "myfile.pdf",
            image: { type: "jpeg", quality: 0.98 },
            html2canvas: { scale: 2 },
            pagebreak: { mode: ["avoid-all", "css", "legacy"] },
            jsPDF: { unit: "in", format: "letter", orientation: "portrait" },
          };
          html2pdf().from(content).set(opt).save();
        };
        return (
          <button id="download" onClick={() => generatePDF()}>
            <i className="fa fa-download"></i>
            Download
          </button>
        );
      }

      const Dashboard = (props) => {
        const [customers, setCustomers] = useState(data);
        const [uniqueCustomers, setUniqueCustomers] = useState([]);
        const [customerDetails, setCustomerDetails] = useState([]);
        const [searchCustomers, setSearchCustomers] = useState([]);
        const [modalIsOpen, setIsOpen] = useState(false);

        ReactModal.setAppElement(rootHandle);

        let totalAmount = 0;
        customers.forEach((ele) => {
          return (totalAmount = totalAmount + ele.Amount);
        });
        // console.log(totalAmount);

        const uniqueCustomer = [
          ...new Set(customers.map((item) => item.Phone)),
        ];
        // console.log(uniqueCustomer);

        //for order distribution
        const getOrdersDitribution = () => {
          const result = {};
          const final_result = uniqueCustomers.filter((ele) => {
            if (ele.orderCount >= 5) {
              return (result["5"] = result["5"] ? result["5"] + 1 : 1);
            } else {
              return (result[ele.orderCount] = result[ele.orderCount]
                ? result[ele.orderCount] + 1
                : 1);
            }
          });
          // console.log(final_result);
          return result;
        };

        useEffect(() => {
          const result = uniqueCustomer.map((item) => {
            let itemCount = 0;
            // let itemObj = {};
            const final = customers.filter((ele) => {
              if (item === ele.Phone) {
                itemCount++;
                return ele;
              }
            });
            // console.log(final);
            return { ...final[0], orderCount: itemCount };
          });
          // console.log(result);
          setUniqueCustomers(result);
          setSearchCustomers(result);
        }, []);

        //for customer deatails modal
        const showCustomerDetail = (phone) => {
          const customerDetail = customers.filter((ele) => {
            return ele.Phone === phone;
          });
          setCustomerDetails(customerDetail);
          setIsOpen(true);
        };

        //for search functionality
        const getSearchResult = (data) => {
          if (data) {
            const searchResult = uniqueCustomers.filter((ele) => {
              return (
                String(ele.Phone).includes(data) ||
                ele.Name.toLowerCase().includes(data.toLowerCase())
              );
            });
            setSearchCustomers(searchResult);
          } else {
            setSearchCustomers(uniqueCustomers);
          }
        };

        //for event close
        const handleCloseModal = () => {
          setIsOpen(false);
        };

        return (
          <div id="parent">
            <DownloadPDF />

            <h1 id="heading">Customer Dashboard</h1>

            <StatsContainer
              ordersCount={customers.length}
              totalAmount={totalAmount}
              customersCount={uniqueCustomers.length}
            />

            <ListingCustomers
              customers={searchCustomers}
              showCustomerDetail={showCustomerDetail}
              customerDetails={customerDetails}
              getSearchResult={getSearchResult}
              modalIsOpen={modalIsOpen}
              handleCloseModal={handleCloseModal}
            />

            <OrederDistribution
              ordersCount={uniqueCustomers}
              ordersPerCusomters={getOrdersDitribution()}
            />
          </div>
        );
      };

      ReactDOM.render(<Dashboard />, rootHandle);
    </script>
  </body>
</html>
